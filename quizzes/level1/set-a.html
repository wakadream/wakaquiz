<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WakaQuiz</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
    <!--<style>
        button {
            padding: 10px;
        }
    </style>-->
</head>

<body>
    <div class="container">
        <br />
        <h1 style="text-align: center;"> Waka Kiwi Quiz </h1>
        <h3 style="text-align: center;"> Level 1 </h3>
        <br />
        <p id="thescore"></p>
        <h3 id="thequestion"></h3>
        <br />
        <button id="1" onclick="q1c()" type="button" class="btn btn-primary"></button><br /><br />
        <button id="2" onclick="q2c()" type="button" class="btn btn-primary"></button><br /><br />
        <button id="3" onclick="q3c()" type="button" class="btn btn-primary"></button><br /><br />
        <button id="4" onclick="q4c()" type="button" class="btn btn-primary"></button><br />
        <br />
        <p id="congrats-mate"></p> <button id="next" onclick="newQuestion()" type="button"
            class="btn btn-primary">Next</button>
    </div>
    <script>
        var JSONdata;
        $.getJSON("questions-level1.json", function(data) {JSONdata = data;}); // sets jsondata variable
        // WE ARE GOING TO CHANGE THIS TO JSON READER!
        var questions = ["Where is Scott Base?", "How did the first Polynesian settlers travel to NZ?", "Which insect provides some light in caves such as the Waitomo Caves?", "What colour is Kakariki?"]
        var buttonText = [["Stewart Island", "Antarctica", "NZ South Island", "New York (in the USA)"], ["By plane", "By boat", "By jetski", "By horse"], ["Candle-worms", "Glow-worms", "Silk-worms", "Slow-worms"], ["Blue", "Yellow", "Black", "Green"]]
        /* In human readable format (starting from 1) */ var answers = [2, 2, 2, 4]
        var questionNumber
        var correctAnswers = 0;
        var questionsDone = -1;
        var allowClick = true
        var toadd;
        function random(min, max) {
            return Math.floor((Math.random() * max) + min)
        }
        function redoScore() {
            document.getElementById('thescore').innerHTML = "Score: " + String(correctAnswers) + "/" + String(questionsDone)
        }
        function newQuestion() {
            if (questionsDone < 10) {
                allowClick = true
                questionsDone++
                if (toadd == true) {
                    correctAnswers++
                }
                questionNumber = random(0, questions.length)
                document.getElementById('thequestion').innerHTML = questions[questionNumber]
                redoScore()
                document.getElementById('congrats-mate').innerHTML = ""
                document.getElementById('1').innerHTML = String(buttonText[questionNumber][0])
                document.getElementById('2').innerHTML = String(buttonText[questionNumber][1])
                document.getElementById('3').innerHTML = String(buttonText[questionNumber][2])
                document.getElementById('4').innerHTML = String(buttonText[questionNumber][3])
                document.getElementById('next').style.visibility = "hidden"
            } else {
                alert('You have finished all your questions. Your score is ' + String(correctAnswers) + "/" + String(questionsDone) + '.')
            }

        }
        newQuestion()
        function q1c() {
            if (0 == answers[questionNumber] - 1 && allowClick == true) {
                document.getElementById('congrats-mate').innerHTML = "Congrats! You got it correct!"
                toadd = true
                
            } else {
                if (!0 == answers[questionNumber]) {
                    document.getElementById('congrats-mate').innerHTML = "Sorry, you got it wrong."
                    toadd = false
                }

            }
            document.getElementById('next').style.visibility = "visible"
            allowClick = false

        }
        function q2c() {

            if (1 == answers[questionNumber] - 1 && allowClick == true) {
                document.getElementById('congrats-mate').innerHTML = "Congrats! You got it correct!"
                correctAnswers++
            } else {
                document.getElementById('congrats-mate').innerHTML = "Sorry, you got it wrong."
            }
            document.getElementById('next').style.visibility = "visible"
            allowClick = false
        }
        function q3c() {

            if (2 == answers[questionNumber] - 1 && allowClick == true) {
                document.getElementById('congrats-mate').innerHTML = "Congrats! You got it correct!"
                correctAnswers++
            } else {
                document.getElementById('congrats-mate').innerHTML = "Sorry, you got it wrong."
            }
            document.getElementById('next').style.visibility = "visible"
            allowClick = false
        }
        function q4c() {

            if (3 == answers[questionNumber] - 1 && allowClick == true) {
                document.getElementById('congrats-mate').innerHTML = "Congrats! You got it correct!"
                correctAnswers++
            } else {
                document.getElementById('congrats-mate').innerHTML = "Sorry, you got it wrong."
            }
            document.getElementById('next').style.visibility = "visible"
            allowClick = false
        }
    </script>
</body>

</html>